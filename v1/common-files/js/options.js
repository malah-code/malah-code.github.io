function init(){var a=chrome.extension.getBackgroundPage();saveButton=document.getElementById("save-button");var b=localStorage.optShowNotifications;"1"==b?$("#chkShowNotif").attr("checked","checked"):$("#chkShowNotif").removeAttr("checked"),drawSiteItemsOption(),showHideControlsItems(),markClean(),""!=a.FeedbackformUrl?$("#feedbacklink").attr("href",a.FeedbackformUrl):$("#feedbacklink").hide()}function save(a){var b=chrome.extension.getBackgroundPage();$(".buttonLeftFixedSvDn").text(".. Save Done .."),localStorage.optShowNotifications=$("#chkShowNotif").is(":checked")?"1":"0";var c="";$(".checkIsSelected:checked").each(function(){var a=$($($(this).parents(".rowOfSelectedItems,.rowOfSelectedItemsAlt")[0]).find("option.optselNumbersDropDown:selected")[0]).text(),b=$($($(this).parents(".rowOfSelectedItems,.rowOfSelectedItemsAlt")[0]).find(".selShowNotificationYesNo")[0]).is(":checked"),d=$(this).attr("mainId");c+=d+"#"+a+"#"+b.toString()+"\n"}),localStorage.siteItemsOptions=c,b.readXMLConfig(),markClean(),chrome.extension.getBackgroundPage().init(),chrome.extension.getBackgroundPage().arrArticlesArray=new Array,chrome.extension.getBackgroundPage().GetDataFromScratch(0);var d=2e3;void 0!=a&&a&&($(".buttonLeftFixedSvDn").text(".. Auto Save .."),d=700),$(".buttonLeftFixedSvDn").slideDown(),setTimeout(function(){$(".buttonLeftFixedSvDn").slideUp("slow")},d)}function markDirty(){saveButton.disabled=!1,save(!0)}function markClean(){saveButton.disabled=!0}function drawSiteItemsOption(){var a=chrome.extension.getBackgroundPage(),b=a.siteItems,c="";for(i=0;i<b.length;i++){var d=b[i];c+='<div id="siteItem'+d.id+'" ><h3>'+d.text+"</h3></div>",c+='<div class="contents"><ul>';var e=!1;for(j2=0;j2<d.rssItems.length;j2++)crntRssItm=d.rssItems[j2],c+='<li class="clearboth" id="rssItem'+crntRssItm.id+'" ><div class="rowOfSelectedItems'+(e?"Alt":"")+'" >',c+='<span class="checkb"><input class="checkIsSelected floatLeft markdAndShowHideCnt" mainId="'+crntRssItm.id+'" id="chkrssItem_'+crntRssItm.id+'" type="checkbox"  '+(crntRssItm.selected?' checked="checked" ':"")+"/></span>",c+='<div class="theRssItemTitle floatLeft" >'+crntRssItm.text+"</div>",c+='<div class="thedrpDownNumbers floatLeft" >Number of news : '+getTheNumbersDropDown(crntRssItm.setting_number,crntRssItm.id)+"</div>",c+='<div class="thedrpDownNotification " > Show Notifications?'+getTheShowNotificationsDropDown(crntRssItm.setting_showNotifications,crntRssItm.id)+"</div>",c+="</div></li>",e=!e;c+="</ul></div>"}$("#theFormItems").append(c),$("button","#buttonLeftFixed").button({icons:{primary:"ui-icon-disk"}}),$("#theFormItems").accordion({autoHeight:!1,navigation:!0})}function getTheShowNotificationsDropDown(a,b){var c='<input class="selShowNotificationYesNo markdAndShowHideCnt"    type="checkbox"  id="SelectYesNo'+b+'" name="SelectYesNo'+b+'"  '+(a?' checked="checked" ':"")+"/>";return c}function getTheNumbersDropDown(a,b){var c="";for(c='<select class="selNumbersDropDown markdAndShowHideCnt" id="idNumbersDropDown'+b+'" name="idNumbersDropDown'+b+'"   >',j1=1;j1<=20;j1++)c+='<option  class="optselNumbersDropDown" '+(parseInt(a)==j1?"selected":"")+" >"+j1.toString()+"</option>";return c+="</select>"}function showHideControlsItems(){$(".checkIsSelected").each(function(){$(this).is(":checked")?($($(this).parent().find(".selShowNotificationYesNo")[0]).attr("disabled",!1),$($(this).parent().find(".selNumbersDropDown")[0]).attr("disabled",!1)):($($(this).parent().find(".selShowNotificationYesNo")[0]).attr("disabled",!0),$($(this).parent().find(".selNumbersDropDown")[0]).attr("disabled",!0))})}$(document).ready(function(){$(".nicewebtoolsOpenTab").click(function(){chrome.tabs.create({url:"http://nicewebtools.com/extensions.aspx"})}),$(".optionssaveBusson").click(function(){save()}),$(".optionsCancleBusson").click(function(){init()});var a=chrome.extension.getBackgroundPage();$("#ModuleName").text(a.ModuleNameOptions),init(),$(".markdAndShowHideCnt").change(function(){markDirty(),showHideControlsItems()})});var customDomainsTextbox,saveButton;